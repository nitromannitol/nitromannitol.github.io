<!DOCTYPE html>
<meta charset="utf-8">
<style> /* set the CSS */
body { font: 12px Arial;}
</style>
<body>

<!-- load the plotly.js regression libraries -->      

<head>
  <script src="plotly-latest.min.js"></script>
</head>


<body>

  <!-- load the plotly.js library -->      
<div id="graph" width="500" height="500"></div>


<script>
function makeplot() {
  Plotly.d3.csv("data_fit.csv", function(data){ processData(data) } );
};
  
function processData(allRows) {
  var dates = [];
  var total_count = [];
  var linear_fit = [];
  var exp_fit = [];


  for (var i=0; i<allRows.length; i++) {
    row = allRows[i];
    dates.push( row['date'] );
    total_count.push( row['total_count'] );
    linear_fit.push( row['linear_fit'] );
    exp_fit.push( row['exp_fit'] );

  }
  makePlotly( dates,total_count, linear_fit,exp_fit);
}

function makePlotly( dates, total_count, linear_fit, exp_fit){
  var plotDiv = document.getElementById("plot");
  var traces = [

  {
    x: dates, 
    y: total_count,
    mode: 'markers',
    type: 'scatter',
    name: 'Total Confirmed Cases'
  },

  {
    x: dates, 
    y: exp_fit,
    mode: 'lines',
    type: 'scatter',
    name: 'Exponential Fit',
  },

   {
    x: dates, 
    y: linear_fit,
    mode: 'lines',
    type: 'scatter',
    name: 'Linear Fit',
  }


  ];

  var layout = {
  legend: {
    y: 0.5,
    yref: 'paper',
    font: {
      family: 'Courier New, monospace',
      size: 15,
      color: 'grey',
    }
  },
  title: {
    text:'COVID-19 in Kuwait',
    font: {
      family: 'Courier New, monospace',
      size: 24
    },
    xref: 'paper',
    x: 0.05,
  },

  yaxis: {
    title: {
      text: 'Count',
      font: {
        family: 'Courier New, monospace',
        size: 18,
        color: '#7f7f7f'
      }
    }
  },
  colorway : ['#000000', '#ff0000', '#0000ff']
};



  Plotly.newPlot('graph', traces, layout, {responsive:true});


};


  makeplot();
</script>


</body>




<hr>
Linear fit is <font color="blue"> 5.3*day + 8.3 </font>  with <font color = "blue"> R^2=0.90 </font>. 
<br>
Exponential fit is <font color="red"> 25.5*exp(1.05*day) </font> with <font color = "red" > R^2=1.05 </font>.
<br>
Today is the <font color="red"> 26th </font> day of the outbreak in Kuwait.
<br>
There are <font color="red"> 176 </font> total cases.
<br>
The average daily rate of growth in the last 7 days is <font color = "red"> 7.8% </font>


<hr>
  

Each data point corresponds to daily, public updates by <a href = "https://twitter.com/KUWAIT_MOH"> Kuwait's Ministry of Health</a>.



<hr>

      Last updated March 21, 6:30 AM CDT.  
<hr>


   <footer>
      Created and maintained by <a href = "https://home.uchicago.edu/~ahmedb/"> Ahmed Bou-Rabee </a>

    </footer>




